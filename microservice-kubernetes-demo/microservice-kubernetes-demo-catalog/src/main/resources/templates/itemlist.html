<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
	layout:decorator="layout">
<head>
<title>Item : View all</title>
</head>
<body>
	<h1 layout:fragment="header">Item : View all</h1>
	<div layout:fragment="content" class="container">
		<table class="table table-bordered table-striped">
			<thead>
				<tr>
					<td style="width: 50px;">id</td>
					<td>Name</td>
					<td style="width: 100px;">Price</td>
					<td style="width: 120px; text-align: center;">Image</td>
					<td style="width: 80px;">Actions</td>
				</tr>
			</thead>
			<tbody>
				<tr th:if="${items.empty}">
					<td colspan="5">No items</td>
				</tr>
				<tr th:each="item : ${items}">
					<td><a href="1.html" th:href="${item.id+'.html'}"
						th:text="${item.id}">1</a></td>
					<td th:text="${item.name}">Name</td>
					<td th:text="${item.price}">42.0</td>
					<td style="text-align: center; vertical-align: middle;">
						<!-- Image thumbnail from MinIO -->
						<img th:if="${item.id != null}" 
						     th:src="@{'/catalog/items/' + ${item.id} + '/image'}"
						     alt="Product" 
						     style="width: 80px; height: 80px; object-fit: cover; border: 1px solid #ddd; border-radius: 4px; background-color: #f5f5f5;" 
						     onerror="this.alt='No Image'; this.style.display='inline-block'; this.style.padding='30px 10px'; this.style.backgroundColor='#eee'; this.style.color='#999';" />
					</td>
					<td><form th:action="${item.id+'.html'}"
							th:method="'delete'">
							<input type="submit" value="delete" class="btn btn-danger btn-sm" />
						</form></td>
				</tr>
			</tbody>
		</table>
		<div class="row">
			<div class="col-md-4">
				<a href="form.html">Add Item</a>
			</div>
		</div>
	</div>
</body>
</html>